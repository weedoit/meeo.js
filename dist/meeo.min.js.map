{"version":3,"sources":["meeo.js"],"names":["Meeo","methods","meeo","cb","res","Array","join","window","_","Element","name","this","acceptNested","markup","document","createElement","outerHTML","indexOf","Elements","create","render","el","arguments","isRender","element","params","attrs","paramsArray","prototype","slice","call","length","hasOwnToStringMethod","toString","fetchAttributes","concat","key","cur","first","out","Object","hasOwnProperty","undefined","push","Components","def","scope","args","Helpers","implementation","HTML5Elements","map","Conditional","condition","whenTrue","whenFalse","output","then","callback","elseif","RenderIterator","obj","each","len","x","cond","whenNotEmpty","whenEmpty","isEmpty","empty","str","text","&","<",">","\"","'","replace","m"],"mappings":"AAAA,GAAIA,OACJ,SAAWA,GACPA,EAAKC,UACL,IAAIC,GAAO,SAAUC,GACjB,GAAIC,GAAMD,EAAGH,EAAKC,QAIlB,OAHIG,aAAeC,SACfD,EAAMA,EAAIE,KAAK,KAEZF,EAEXG,QAAOL,KAAOA,EACdK,OAAOC,EAAID,OAAOC,GAAKN,GACxBF,OAASA,SACZ,IAAIA,OACJ,SAAWA,GACP,GAAIS,GAAU,WACV,QAASA,GAAQC,GACbC,KAAKD,KAAO,KACZC,KAAKC,cAAe,CACpB,IAAIC,GAASC,SAASC,cAAcL,GAAMM,SAC1CL,MAAKD,KAAOA,EACZC,KAAKC,aAAeC,EAAOI,QAAQ,MAAQ,EAE/C,MAAOR,KAEXT,GAAKS,QAAUA,GAChBT,OAASA,SACZ,IAAIA,OACJ,SAAWA,GACP,GAAIkB,IACJ,SAAWA,GAmBP,QAASC,GAAOT,GACZ,GAAiCU,GAA7BC,EAAK,GAAIrB,GAAKS,QAAQC,EAC1BU,GAAS,WACL,MAAOpB,GAAKkB,SAASE,OAAOC,EAAIC,YAEpCF,EAAOG,UAAW,EAClBvB,EAAKC,QAAQS,GAAQU,EAGzB,QAASA,GAAOI,EAASC,GACrB,GAAIC,GAAOC,EAActB,MAAMuB,UAAUC,MAAMC,KAAKL,EACpD,OAAsB,KAAlBA,EAAOM,QACC,IAAKP,EAAQd,KAAM,KAAKJ,KAAK,KAErCmB,EAAO,GAAGO,uBACVP,EAAO,GAAKA,EAAO,GAAGQ,YAE1BP,EAAQQ,EAAgBT,GACV,OAAVC,IACAC,EAAcA,EAAYE,MAAM,KAE5B,IAAKL,EAAQd,KAAM,IAAKgB,EAAO,KAAKS,OAAOR,GAAc,KAAMH,EAAQd,KAAM,MAAMJ,KAAK,KAvCpG,GAAI4B,GAAkB,SAAUT,GAC5B,GAAuBW,GAAKC,EAAxBC,EAAQb,EAAO,GAAcc,IACjC,IAAID,YAAiBE,QAAQ,CACzB,IAAKJ,IAAOE,GACJA,EAAMG,eAAeL,KACrBC,EAAMC,EAAMF,GACA,KAARC,GAAsB,OAARA,GAAwBK,SAARL,EAC9BE,EAAII,KAAKP,GAGTG,EAAII,KAAKP,EAAM,KAAOC,EAAM,KAIxC,OAAOE,GAAIjC,KAAK,KAEpB,MAAO,MAUXY,GAASC,OAASA,EAelBD,EAASE,OAASA,GACnBF,EAAWlB,EAAKkB,WAAalB,EAAKkB,eACtClB,OAASA,SACZ,IAAIA,OACJ,SAAWA,GACP,GAAI4C,IACJ,SAAWA,GACP,QAASzB,GAAOT,EAAMmC,GAClB7C,EAAKC,QAAQS,GAAQ,WACjB,GAAIoC,GAAQ,KAAMC,EAAO1C,MAAMuB,UAAUC,MAAMC,KAAKR,UAKpD,OAJuB,gBAAZyB,GAAK,KACZD,EAAQC,EAAK,GACbA,EAAOA,EAAKlB,MAAM,IAEfgB,EAAI7C,EAAKC,QAAS6C,EAAOC,EAAKzC,KAAK,MAGlDsC,EAAWzB,OAASA,GACrByB,EAAa5C,EAAK4C,aAAe5C,EAAK4C,iBAC1C5C,OAASA,SACZ,IAAIA,OACJ,SAAWA,GACP,GAAIgD,IACJ,SAAWA,GACP,QAAS7B,GAAOT,EAAMuC,GAClBjD,EAAKC,QAAQS,GAAQuC,EAEzBD,EAAQ7B,OAASA,GAClB6B,EAAUhD,EAAKgD,UAAYhD,EAAKgD,cACpChD,OAASA,SACZ,IAAIA,OACJ,SAAWA,GACP,GAAIkD,IAAiB,IAAK,OAAQ,UAAW,OAAQ,UAAW,QAAS,QAAS,IAAK,MAAO,MAAO,aAAc,KAC/G,SAAU,SAAU,UAAW,OAAQ,OAAQ,MAAO,WAAY,UAAW,UAAW,OACxF,WAAY,KAAM,MAAO,UAAW,MAAO,SAAU,MAAO,KAAM,KAAM,KAAM,QAAS,WACvF,aAAc,SAAU,SAAU,OAAQ,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,SAAU,KAAM,IAC9F,SAAU,MAAO,QAAS,MAAO,MAAO,SAAU,QAAS,SAAU,KAAM,OAAQ,OAAQ,MAC3F,OAAQ,OAAQ,OAAQ,WAAY,QAAS,MAAO,WAAY,SAAU,KAAM,WAChF,SAAU,SAAU,IAAK,QAAS,MAAO,WAAY,IAAK,KAAM,KAAM,OAAQ,IAAK,OACnF,SAAU,UAAW,SAAU,QAAS,SAAU,OAAQ,SAAU,QAAS,MAAO,UACpF,MAAO,QAAS,QAAS,KAAM,WAAY,WAAY,QAAS,KAAM,QAAS,OAC/E,KAAM,QAAS,IAAK,KAAM,MAAO,QAAS,MAC9CA,GAAcC,IAAI,SAAU3B,GACxBxB,EAAKkB,SAASC,OAAOK,MAE1BxB,OAASA,SACZ,IAAIA,OACJ,SAAWA,GACP,GAAIoD,GAAc,WACd,QAASA,GAAYC,EAAWC,EAAUC,GAStC,MARA5C,MAAKqB,sBAAuB,EAC5BrB,KAAK0C,UAAYA,EACbA,EACA1C,KAAK6C,OAAS,EAAaF,IAAa,KAGxC3C,KAAK6C,OAAS,EAAcD,IAAc,KAEvC5C,KAuBX,MArBAyC,GAAYxB,UAAU6B,KAAO,SAAUC,GAInC,MAHI/C,MAAK0C,YACL1C,KAAK6C,OAASE,KAEX/C,MAEXyC,EAAYxB,UAAU+B,OAAS,SAAUN,EAAWK,GAIhD,OAHK/C,KAAK0C,WAAaA,IACnB1C,KAAK6C,OAASE,KAEX/C,MAEXyC,EAAYxB,UAAZwB,QAA6B,SAAUM,GAInC,MAHK/C,MAAK0C,YACN1C,KAAK6C,OAASE,KAEX/C,KAAKsB,YAEhBmB,EAAYxB,UAAUK,SAAW,WAC7B,MAAOtB,MAAK6C,QAETJ,KAEPQ,EAAiB,WACjB,QAASA,GAAeC,EAAKH,GACzB/C,KAAKkD,IAAMA,EACXH,GAAY/C,KAAKmD,KAAKJ,GAqB1B,MAnBAE,GAAehC,UAAUkC,KAAO,SAAU3D,GACtC,GAA8BiC,GAAK2B,EAAKC,EAApCH,EAAMlD,KAAKkD,IAAKtB,IACpB,IAAmB,gBAARsB,GAAX,CAEA,GAAIA,YAAexD,OAEf,IADA0D,EAAMF,EAAI9B,OACLiC,EAAI,EAAOD,EAAJC,EAASA,GAAK,EACtBzB,EAAII,KAAKxC,EAAG0D,EAAIG,GAAIA,QAIxB,KAAK5B,IAAOyB,GACJA,EAAIpB,eAAeL,IACnBG,EAAII,KAAKxC,EAAG0D,EAAIzB,GAAMA,GAIlC,OAAOG,GAAIjC,KAAK,MAEbsD,IAEX5D,GAAKgD,QAAQ7B,OAAO,KAAM,SAAUkC,EAAWC,EAAUC,GACrD,GAAIU,GAAO,GAAIb,GAAYC,EAAWC,EAAUC,EAChD,OAAOU,KAEXjE,EAAKgD,QAAQ7B,OAAO,SAAU,SAAUkC,EAAWC,EAAUC,GACzD,GAAIU,GAAO,GAAIb,IAAaC,EAAWC,EAAUC,EACjD,OAAOU,KAEXjE,EAAKgD,QAAQ7B,OAAO,SAAU,SAAU0C,EAAK1D,GACzC,MAAO,IAAKyD,GAAeC,GAAMC,KAAK3D,KAE1CH,EAAKgD,QAAQ7B,OAAO,UAAW,SAAU0C,EAAKK,EAAcC,GACxD,GAAI5B,GAAKH,CAsBT,IArBAG,GACIP,sBAAsB,EACtB6B,IAAKA,EACLL,OAAQ,GACRY,SAAS,EACTX,KAAM,SAAUC,GAIZ,MAHK/C,MAAKyD,UACNzD,KAAK6C,OAAS,GAAKI,GAAejD,KAAKkD,KAAMC,KAAKJ,IAE/C/C,MAEX0D,MAAO,SAAUX,GAIb,MAHI/C,MAAKyD,UACLzD,KAAK6C,OAASE,KAEX/C,KAAKsB,YAEhBA,SAAU,WACN,MAAOtB,MAAK6C,SAGD,gBAARK,GACP,GAAIA,YAAexD,OACfkC,EAAI6B,QAAWP,EAAI9B,OAAS,GAAK,EAAQQ,EAAI6B,YAG7C,KAAKhC,IAAOyB,GACR,GAAIA,EAAIpB,eAAeL,GAAM,CACzBG,EAAI6B,SAAU,CACd,OAWhB,MANI7B,GAAI6B,QACJD,GAAa5B,EAAI8B,MAAMF,GAGvBD,GAAgB3B,EAAIkB,KAAKS,GAEtB3B,IAEXvC,EAAKgD,QAAQ7B,OAAO,SAAU,SAAUmD,GACpC,GAAIC,GAAMpB,CASV,OARAoB,GAAOD,EAAIrC,WACXkB,GACIqB,IAAK,QACLC,IAAK,OACLC,IAAK,OACLC,IAAK,SACLC,IAAK,UAEFL,EAAKM,QAAQ,WAAY,SAAUC,GAAK,MAAO3B,GAAI2B,OAE9D9E,EAAKgD,QAAQ7B,OAAO,UAAW,SAAU0C,GACrC,GAAIzB,GAAKG,IACT,KAAKH,IAAOyB,GACJA,EAAIpB,eAAeL,IAAQyB,EAAIzB,IAC/BG,EAAII,KAAKP,EAGjB,OAAOG,GAAIjC,KAAK,OAErBN,OAASA","file":"meeo.min.js","sourcesContent":["var Meeo;\n(function (Meeo) {\n    Meeo.methods = {};\n    var meeo = function (cb) {\n        var res = cb(Meeo.methods);\n        if (res instanceof Array) {\n            res = res.join('');\n        }\n        return res;\n    };\n    window.meeo = meeo;\n    window._ = window._ || meeo;\n})(Meeo || (Meeo = {}));\nvar Meeo;\n(function (Meeo) {\n    var Element = (function () {\n        function Element(name) {\n            this.name = null;\n            this.acceptNested = true;\n            var markup = document.createElement(name).outerHTML;\n            this.name = name;\n            this.acceptNested = markup.indexOf('><') > 0;\n        }\n        return Element;\n    })();\n    Meeo.Element = Element;\n})(Meeo || (Meeo = {}));\nvar Meeo;\n(function (Meeo) {\n    var Elements;\n    (function (Elements) {\n        var fetchAttributes = function (params) {\n            var first = params[0], key, cur, out = [];\n            if (first instanceof Object) {\n                for (key in first) {\n                    if (first.hasOwnProperty(key)) {\n                        cur = first[key];\n                        if (cur === '' || cur === null || cur === undefined) {\n                            out.push(key);\n                        }\n                        else {\n                            out.push(key + '=\"' + cur + '\"');\n                        }\n                    }\n                }\n                return out.join(' ');\n            }\n            return null;\n        };\n        function create(name) {\n            var el = new Meeo.Element(name), render;\n            render = function () {\n                return Meeo.Elements.render(el, arguments);\n            };\n            render.isRender = true;\n            Meeo.methods[name] = render;\n        }\n        Elements.create = create;\n        function render(element, params) {\n            var attrs, paramsArray = Array.prototype.slice.call(params);\n            if (params.length === 0) {\n                return ['<', element.name, '>'].join('');\n            }\n            if (params[0].hasOwnToStringMethod) {\n                params[0] = params[0].toString();\n            }\n            attrs = fetchAttributes(params);\n            if (attrs !== null) {\n                paramsArray = paramsArray.slice(1);\n            }\n            return ['<', element.name, ' ', attrs, '>'].concat(paramsArray, ['</', element.name, '>']).join('');\n        }\n        Elements.render = render;\n    })(Elements = Meeo.Elements || (Meeo.Elements = {}));\n})(Meeo || (Meeo = {}));\nvar Meeo;\n(function (Meeo) {\n    var Components;\n    (function (Components) {\n        function create(name, def) {\n            Meeo.methods[name] = function () {\n                var scope = null, args = Array.prototype.slice.call(arguments);\n                if (typeof args[0] === 'object') {\n                    scope = args[0];\n                    args = args.slice(1);\n                }\n                return def(Meeo.methods, scope, args.join(''));\n            };\n        }\n        Components.create = create;\n    })(Components = Meeo.Components || (Meeo.Components = {}));\n})(Meeo || (Meeo = {}));\nvar Meeo;\n(function (Meeo) {\n    var Helpers;\n    (function (Helpers) {\n        function create(name, implementation) {\n            Meeo.methods[name] = implementation;\n        }\n        Helpers.create = create;\n    })(Helpers = Meeo.Helpers || (Meeo.Helpers = {}));\n})(Meeo || (Meeo = {}));\nvar Meeo;\n(function (Meeo) {\n    var HTML5Elements = ['a', 'abbr', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'blockquote', 'br',\n        'button', 'canvas', 'caption', 'cite', 'code', 'col', 'colgroup', 'command', 'content', 'data',\n        'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl', 'dt', 'em', 'embed', 'fieldset',\n        'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'hr', 'i',\n        'iframe', 'img', 'input', 'ins', 'kbd', 'keygen', 'label', 'legend', 'li', 'link', 'main', 'map',\n        'mark', 'menu', 'meta', 'menuitem', 'meter', 'nav', 'noscript', 'object', 'ol', 'optgroup',\n        'option', 'output', 'p', 'param', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp',\n        'script', 'section', 'select', 'small', 'source', 'span', 'strong', 'style', 'sub', 'summary',\n        'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time',\n        'tr', 'track', 'u', 'ul', 'var', 'video', 'wbr'];\n    HTML5Elements.map(function (element) {\n        Meeo.Elements.create(element);\n    });\n})(Meeo || (Meeo = {}));\nvar Meeo;\n(function (Meeo) {\n    var Conditional = (function () {\n        function Conditional(condition, whenTrue, whenFalse) {\n            this.hasOwnToStringMethod = true;\n            this.condition = condition;\n            if (condition) {\n                this.output = (whenTrue) ? whenTrue() : null;\n            }\n            else {\n                this.output = (whenFalse) ? whenFalse() : null;\n            }\n            return this;\n        }\n        Conditional.prototype.then = function (callback) {\n            if (this.condition) {\n                this.output = callback();\n            }\n            return this;\n        };\n        Conditional.prototype.elseif = function (condition, callback) {\n            if (!this.condition && condition) {\n                this.output = callback();\n            }\n            return this;\n        };\n        Conditional.prototype.else = function (callback) {\n            if (!this.condition) {\n                this.output = callback();\n            }\n            return this.toString();\n        };\n        Conditional.prototype.toString = function () {\n            return this.output;\n        };\n        return Conditional;\n    })();\n    var RenderIterator = (function () {\n        function RenderIterator(obj, callback) {\n            this.obj = obj;\n            callback && this.each(callback);\n        }\n        RenderIterator.prototype.each = function (cb) {\n            var obj = this.obj, out = [], key, len, x;\n            if (typeof obj !== 'object')\n                return;\n            if (obj instanceof Array) {\n                len = obj.length;\n                for (x = 0; x < len; x += 1) {\n                    out.push(cb(obj[x], x));\n                }\n            }\n            else {\n                for (key in obj) {\n                    if (obj.hasOwnProperty(key)) {\n                        out.push(cb(obj[key], key));\n                    }\n                }\n            }\n            return out.join('');\n        };\n        return RenderIterator;\n    })();\n    Meeo.Helpers.create('if', function (condition, whenTrue, whenFalse) {\n        var cond = new Conditional(condition, whenTrue, whenFalse);\n        return cond;\n    });\n    Meeo.Helpers.create('unless', function (condition, whenTrue, whenFalse) {\n        var cond = new Conditional(!condition, whenTrue, whenFalse);\n        return cond;\n    });\n    Meeo.Helpers.create('repeat', function (obj, cb) {\n        return (new RenderIterator(obj)).each(cb);\n    });\n    Meeo.Helpers.create('forelse', function (obj, whenNotEmpty, whenEmpty) {\n        var out, key;\n        out = {\n            hasOwnToStringMethod: true,\n            obj: obj,\n            output: '',\n            isEmpty: true,\n            then: function (callback) {\n                if (!this.isEmpty) {\n                    this.output = (new RenderIterator(this.obj)).each(callback);\n                }\n                return this;\n            },\n            empty: function (callback) {\n                if (this.isEmpty) {\n                    this.output = callback();\n                }\n                return this.toString();\n            },\n            toString: function () {\n                return this.output;\n            }\n        };\n        if (typeof obj === 'object') {\n            if (obj instanceof Array) {\n                out.isEmpty = (obj.length > 0) ? false : out.isEmpty;\n            }\n            else {\n                for (key in obj) {\n                    if (obj.hasOwnProperty(key)) {\n                        out.isEmpty = false;\n                        break;\n                    }\n                }\n            }\n        }\n        if (out.isEmpty) {\n            whenEmpty && out.empty(whenEmpty);\n        }\n        else {\n            whenNotEmpty && out.then(whenNotEmpty);\n        }\n        return out;\n    });\n    Meeo.Helpers.create('escape', function (str) {\n        var text, map;\n        text = str.toString();\n        map = {\n            '&': '&amp;',\n            '<': '&lt;',\n            '>': '&gt;',\n            '\"': '&quot;',\n            \"'\": '&#039;'\n        };\n        return text.replace(/[&<>\"']/g, function (m) { return map[m]; });\n    });\n    Meeo.Helpers.create('classes', function (obj) {\n        var key, out = [];\n        for (key in obj) {\n            if (obj.hasOwnProperty(key) && obj[key]) {\n                out.push(key);\n            }\n        }\n        return out.join('');\n    });\n})(Meeo || (Meeo = {}));\n\n//# sourceMappingURL=meeo.js.map\n"],"sourceRoot":"/source/"}